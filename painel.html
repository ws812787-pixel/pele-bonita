<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8"/>
  <title>Painel de Visitantes â€” Pele Bonita</title>
  <style>
    body{font-family:Arial,sans-serif;background:#fafafa;margin:0;padding:20px}
    h1{text-align:center;color:#F47C20}
    table{width:100%;border-collapse:collapse;margin-top:20px;background:#fff}
    th,td{padding:10px;border-bottom:1px solid #ddd;text-align:left}
    th{background:#F47C20;color:#fff}
    tr:hover{background:#f5f5f5}
  </style>
</head>
<body>
  <h1>ğŸ“Š Painel de Visitantes</h1>
  <table>
    <thead>
      <tr>
        <th>ğŸ•’ Data/Hora</th>
        <th>ğŸŒ Local</th>
        <th>ğŸ’» Dispositivo</th>
        <th>ğŸŒ IP</th>
      </tr>
    </thead>
    <tbody id="lista"></tbody>
  </table>

  <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDtnX6JTYQBghRUanv25ebWoTY8NNTz1nY",
      authDomain: "painel-92b60.firebaseapp.com",
      databaseURL: "https://painel-92b60-default-rtdb.firebaseio.com",
      projectId: "painel-92b60",
      storageBucket: "painel-92b60.firebasestorage.app",
      messagingSenderId: "972708135504",
      appId: "1:972708135504:web:ec165386e2b2eca4108755"
    };
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const lista = document.getElementById("lista");

    db.collection("visitas").orderBy("horario","desc").limit(50)
      .onSnapshot(snapshot=>{
        lista.innerHTML="";
        snapshot.forEach(doc=>{
          let v=doc.data();
          let tr=document.createElement("tr");
          tr.innerHTML=`
            <td>${new Date(v.horario).toLocaleString()}</td>
            <td>${v.cidade}, ${v.regiao} - ${v.pais}</td>
            <td>${v.dispositivo}</td>
            <td>${v.ip}</td>`;
          lista.appendChild(tr);
        });
      });
  </script>
</body>
</html>




